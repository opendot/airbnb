!function t(r,n,e){function i(s,u){if(!n[s]){if(!r[s]){var h="function"==typeof require&&require;if(!u&&h)return h(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var a=n[s]={exports:{}};r[s][0].call(a.exports,function(t){var n=r[s][1][t];return i(n?n:t)},a,a.exports,t,r,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(t,r,n){!function(t){"use strict";function r(t){var r=a[t.charCodeAt(0)];return void 0!==r?r:-1}function n(t){function n(t){h[a++]=t}var e,i,o,s,u,h;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=t.length;u="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,h=new l(3*t.length/4-u),o=u>0?t.length-4:t.length;var a=0;for(e=0,i=0;o>e;e+=4,i+=3)s=r(t.charAt(e))<<18|r(t.charAt(e+1))<<12|r(t.charAt(e+2))<<6|r(t.charAt(e+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=r(t.charAt(e))<<2|r(t.charAt(e+1))>>4,n(255&s)):1===u&&(s=r(t.charAt(e))<<10|r(t.charAt(e+1))<<4|r(t.charAt(e+2))>>2,n(s>>8&255),n(255&s)),h}function e(t){return f[t]}function i(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}function o(t,r,n){for(var e,o=[],s=r;n>s;s+=3)e=(t[s]<<16)+(t[s+1]<<8)+t[s+2],o.push(i(e));return o.join("")}function s(t){var r,n,i,s=t.length%3,u="",h=[],f=16383;for(r=0,i=t.length-s;i>r;r+=f)h.push(o(t,r,r+f>i?i:r+f));switch(s){case 1:n=t[t.length-1],u+=e(n>>2),u+=e(n<<4&63),u+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],u+=e(n>>10),u+=e(n>>4&63),u+=e(n<<2&63),u+="="}return h.push(u),h.join("")}var u,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=[];for(u=0;u<h.length;u++)f[u]=h[u];var a=[];for(u=0;u<h.length;++u)a[h.charCodeAt(u)]=u;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;var l="undefined"!=typeof Uint8Array?Uint8Array:Array;t.toByteArray=n,t.fromByteArray=s}("undefined"==typeof n?this.base64js={}:n)},{}],2:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]).add(r[0].mul(t[1])),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":12}],3:[function(t,r,n){"use strict";function e(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}r.exports=e},{}],4:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]),t[1].mul(r[0]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":12}],5:[function(t,r,n){"use strict";function e(t,r){if(i(t))return r?f(t,e(r)):[t[0].clone(),t[1].clone()];var n,a,l=0;if(o(t))n=t.clone();else if("string"==typeof t)n=u(t);else{if(0===t)return[s(0),s(1)];if(t===Math.floor(t))n=s(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),l-=256;n=s(t)}}if(i(r))n.mul(r[1]),a=r[0].clone();else if(o(r))a=r.clone();else if("string"==typeof r)a=u(r);else if(r)if(r===Math.floor(r))a=s(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),l+=256;a=s(r)}else a=s(1);return l>0?n=n.shln(l):0>l&&(a=a.shln(-l)),h(n,a)}var i=t("./is-rat"),o=t("./lib/is-bn"),s=t("./lib/num-to-bn"),u=t("./lib/str-to-bn"),h=t("./lib/rationalize"),f=t("./div");r.exports=e},{"./div":4,"./is-rat":6,"./lib/is-bn":10,"./lib/num-to-bn":11,"./lib/rationalize":12,"./lib/str-to-bn":13}],6:[function(t,r,n){"use strict";function e(t){return Array.isArray(t)&&2===t.length&&i(t[0])&&i(t[1])}var i=t("./lib/is-bn");r.exports=e},{"./lib/is-bn":10}],7:[function(t,r,n){"use strict";function e(t){return t.cmp(new i(0))}var i=t("bn.js");r.exports=e},{"bn.js":15}],8:[function(t,r,n){"use strict";function e(t){var r=t.length,n=t.words,e=0;if(1===r)e=n[0];else if(2===r)e=n[0]+67108864*n[1];else for(var e=0,i=0;r>i;i++){var o=n[i];e+=o*Math.pow(67108864,i)}return t.sign?-e:e}r.exports=e},{}],9:[function(t,r,n){"use strict";function e(t){var r=o(i.lo(t));if(32>r)return r;var n=o(i.hi(t));return n>20?52:n+32}var i=t("double-bits"),o=t("bit-twiddle").countTrailingZeros;r.exports=e},{"bit-twiddle":20,"double-bits":38}],10:[function(t,r,n){"use strict";function e(t){return t&&"object"==typeof t&&Boolean(t.words)}t("bn.js");r.exports=e},{"bn.js":15}],11:[function(t,r,n){"use strict";function e(t){var r=o.exponent(t);return 52>r?new i(t):new i(t*Math.pow(2,52-r)).shln(r-52)}var i=t("bn.js"),o=t("double-bits");r.exports=e},{"bn.js":15,"double-bits":38}],12:[function(t,r,n){"use strict";function e(t,r){var n=o(t),e=o(r);if(0===n)return[i(0),i(1)];if(0===e)return[i(0),i(0)];0>e&&(t=t.neg(),r=r.neg());var s=t.gcd(r);return s.cmpn(1)?[t.div(s),r.div(s)]:[t,r]}var i=t("./num-to-bn"),o=t("./bn-sign");r.exports=e},{"./bn-sign":7,"./num-to-bn":11}],13:[function(t,r,n){"use strict";function e(t){return new i(t)}var i=t("bn.js");r.exports=e},{"bn.js":15}],14:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[0]),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":12}],15:[function(t,r,n){!function(t,r){"use strict";function n(t,r){if(!t)throw new Error(r||"Assertion failed")}function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}function i(t,r,n){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,("le"===r||"be"===r)&&(n=r,r=10),void(null!==t&&this._init(t||0,r||10,n||"be")))}function o(t,r,n){for(var e=0,i=Math.min(t.length,n),o=r;i>o;o++){var s=t.charCodeAt(o)-48;e<<=4,e|=s>=49&&54>=s?s-49+10:s>=17&&22>=s?s-17+10:15&s}return e}function s(t,r,n,e){for(var i=0,o=Math.min(t.length,n),s=r;o>s;s++){var u=t.charCodeAt(s)-48;i*=e,i+=u>=49?u-49+10:u>=17?u-17+10:u}return i}function u(t,r){this.name=t,this.p=new i(r,16),this.n=this.p.bitLength(),this.k=new i(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function h(){u.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){u.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function a(){u.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function l(){u.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function c(t){if("string"==typeof t){var r=i._prime(t);this.m=r.p,this.prime=r}else this.m=t,this.prime=null}function p(t){c.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof t?t.exports=i:r.BN=i,i.BN=i,i.wordSize=26,i.prototype._init=function(t,r,e){if("number"==typeof t)return this._initNumber(t,r,e);if("object"==typeof t)return this._initArray(t,r,e);"hex"===r&&(r=16),n(r===(0|r)&&r>=2&&36>=r),t=t.toString().replace(/\s+/g,"");var i=0;"-"===t[0]&&i++,16===r?this._parseHex(t,i):this._parseBase(t,r,i),"-"===t[0]&&(this.sign=!0),this.strip(),"le"===e&&this._initArray(this.toArray(),r,e)},i.prototype._initNumber=function(t,r,e){0>t&&(this.sign=!0,t=-t),67108864>t?(this.words=[67108863&t],this.length=1):4503599627370496>t?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(9007199254740992>t),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===e&&this._initArray(this.toArray(),r,e)},i.prototype._initArray=function(t,r,e){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if("be"===e)for(var i=t.length-1,s=0;i>=0;i-=3){var u=t[i]|t[i-1]<<8|t[i-2]<<16;this.words[s]|=u<<o&67108863,this.words[s+1]=u>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}else if("le"===e)for(var i=0,s=0;i<t.length;i+=3){var u=t[i]|t[i+1]<<8|t[i+2]<<16;this.words[s]|=u<<o&67108863,this.words[s+1]=u>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}return this.strip()},i.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var e=0,n=t.length-6,i=0;n>=r;n-=6){var s=o(t,n,n+6);this.words[i]|=s<<e&67108863,this.words[i+1]|=s>>>26-e&4194303,e+=24,e>=26&&(e-=26,i++)}if(n+6!==r){var s=o(t,r,n+6);this.words[i]|=s<<e&67108863,this.words[i+1]|=s>>>26-e&4194303}this.strip()},i.prototype._parseBase=function(t,r,n){this.words=[0],this.length=1;for(var e=0,i=1;67108863>=i;i*=r)e++;e--,i=i/r|0;for(var o=t.length-n,u=o%e,h=Math.min(o,o-u)+n,f=0,a=n;h>a;a+=e)f=s(t,a,a+e,r),this.imuln(i),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==u){for(var l=1,f=s(t,a,t.length,r),a=0;u>a;a++)l*=r;this.imuln(l),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}},i.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.sign=this.sign,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,r){if(t=t||10,16===t||"hex"===t){for(var e="",i=0,r=0|r||1,o=0,s=0;s<this.length;s++){var u=this.words[s],h=(16777215&(u<<i|o)).toString(16);o=u>>>24-i&16777215,e=0!==o||s!==this.length-1?v[6-h.length]+h+e:h+e,i+=2,i>=26&&(i-=26,s--)}for(0!==o&&(e=o.toString(16)+e);e.length%r!==0;)e="0"+e;return this.sign&&(e="-"+e),e}if(t===(0|t)&&t>=2&&36>=t){var f=d[t],a=g[t],e="",l=this.clone();for(l.sign=!1;0!==l.cmpn(0);){var c=l.modn(a).toString(t);l=l.idivn(a),e=0!==l.cmpn(0)?v[f-c.length]+c+e:c+e}return 0===this.cmpn(0)&&(e="0"+e),this.sign&&(e="-"+e),e}n(!1,"Base should be between 2 and 36")},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toArray=function(t){this.strip();var r=new Array(this.byteLength());r[0]=0;var n=this.clone();if("le"!==t)for(var e=0;0!==n.cmpn(0);e++){var i=n.andln(255);n.ishrn(8),r[r.length-e-1]=i}else for(var e=0;0!==n.cmpn(0);e++){var i=n.andln(255);n.ishrn(8),r[e]=i}return r},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var r=t,n=0;return r>=4096&&(n+=13,r>>>=13),r>=64&&(n+=7,r>>>=7),r>=8&&(n+=4,r>>>=4),r>=2&&(n+=2,r>>>=2),n+r},i.prototype._zeroBits=function(t){if(0===t)return 26;var r=t,n=0;return 0===(8191&r)&&(n+=13,r>>>=13),0===(127&r)&&(n+=7,r>>>=7),0===(15&r)&&(n+=4,r>>>=4),0===(3&r)&&(n+=2,r>>>=2),0===(1&r)&&n++,n},i.prototype.bitLength=function(){var t=0,r=this.words[this.length-1],t=this._countBits(r);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(0===this.cmpn(0))return 0;for(var t=0,r=0;r<this.length;r++){var n=this._zeroBits(this.words[r]);if(t+=n,26!==n)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},i.prototype.ior=function(t){for(this.sign=this.sign||t.sign;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.iand=function(t){this.sign=this.sign&&t.sign;var r;r=this.length>t.length?t:this;for(var n=0;n<r.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=r.length,this.strip()},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.ixor=function(t){this.sign=this.sign||t.sign;var r,n;this.length>t.length?(r=this,n=t):(r=t,n=this);for(var e=0;e<n.length;e++)this.words[e]=r.words[e]^n.words[e];if(this!==r)for(;e<r.length;e++)this.words[e]=r.words[e];return this.length=r.length,this.strip()},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.setn=function(t,r){n("number"==typeof t&&t>=0);for(var e=t/26|0,i=t%26;this.length<=e;)this.words[this.length++]=0;return r?this.words[e]=this.words[e]|1<<i:this.words[e]=this.words[e]&~(1<<i),this.strip()},i.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var r=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var r=this.isub(t);return t.sign=!0,r._normSign()}var n,e;this.length>t.length?(n=this,e=t):(n=t,e=this);for(var i=0,o=0;o<e.length;o++){var r=n.words[o]+e.words[o]+i;this.words[o]=67108863&r,i=r>>>26}for(;0!==i&&o<n.length;o++){var r=n.words[o]+i;this.words[o]=67108863&r,i=r>>>26}if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},i.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var r=this.sub(t);return t.sign=!0,r}if(!t.sign&&this.sign){this.sign=!1;var r=t.sub(this);return this.sign=!0,r}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(t.sign){t.sign=!1;var r=this.iadd(t);return t.sign=!0,r._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var n=this.cmp(t);if(0===n)return this.sign=!1,this.length=1,this.words[0]=0,this;var e,i;n>0?(e=this,i=t):(e=t,i=this);for(var o=0,s=0;s<i.length;s++){var r=e.words[s]-i.words[s]+o;o=r>>26,this.words[s]=67108863&r}for(;0!==o&&s<e.length;s++){var r=e.words[s]+o;o=r>>26,this.words[s]=67108863&r}if(0===o&&s<e.length&&e!==this)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=Math.max(this.length,s),e!==this&&(this.sign=!0),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)},i.prototype._smallMulTo=function(t,r){r.sign=t.sign!==this.sign,r.length=this.length+t.length;for(var n=0,e=0;e<r.length-1;e++){for(var i=n>>>26,o=67108863&n,s=Math.min(e,t.length-1),u=Math.max(0,e-this.length+1);s>=u;u++){var h=e-u,f=0|this.words[h],a=0|t.words[u],l=f*a,c=67108863&l;i=i+(l/67108864|0)|0,c=c+o|0,o=67108863&c,i=i+(c>>>26)|0}r.words[e]=o,n=i}return 0!==n?r.words[e]=n:r.length--,r.strip()},i.prototype._bigMulTo=function(t,r){r.sign=t.sign!==this.sign,r.length=this.length+t.length;for(var n=0,e=0,i=0;i<r.length-1;i++){var o=e;e=0;for(var s=67108863&n,u=Math.min(i,t.length-1),h=Math.max(0,i-this.length+1);u>=h;h++){var f=i-h,a=0|this.words[f],l=0|t.words[h],c=a*l,p=67108863&c;o=o+(c/67108864|0)|0,p=p+s|0,s=67108863&p,o=o+(p>>>26)|0,e+=o>>>26,o&=67108863}r.words[i]=s,n=o,o=e}return 0!==n?r.words[i]=n:r.length--,r.strip()},i.prototype.mulTo=function(t,r){var n;return n=this.length+t.length<63?this._smallMulTo(t,r):this._bigMulTo(t,r)},i.prototype.mul=function(t){var r=new i(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},i.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var r=this.length,n=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var e=this.length-2;e>=0;e--){for(var i=0,o=0,s=Math.min(e,n-1),u=Math.max(0,e-r+1);s>=u;u++){var h=e-u,f=this.words[h],a=t.words[u],l=f*a,c=67108863&l;i+=l/67108864|0,c+=o,o=67108863&c,i+=c>>>26}this.words[e]=o,this.words[e+1]+=i,i=0}for(var i=0,h=1;h<this.length;h++){var p=this.words[h]+i;this.words[h]=67108863&p,i=p>>>26}return this.strip()},i.prototype.imuln=function(t){n("number"==typeof t);for(var r=0,e=0;e<this.length;e++){var i=this.words[e]*t,o=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=o>>>26,this.words[e]=67108863&o}return 0!==r&&(this.words[e]=r,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.mul(this)},i.prototype.ishln=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){for(var o=0,s=0;s<this.length;s++){var u=this.words[s]&i,h=this.words[s]-u<<r;this.words[s]=h|o,o=u>>>26-r}o&&(this.words[s]=o,this.length++)}if(0!==e){for(var s=this.length-1;s>=0;s--)this.words[s+e]=this.words[s];for(var s=0;e>s;s++)this.words[s]=0;this.length+=e}return this.strip()},i.prototype.ishrn=function(t,r,e){n("number"==typeof t&&t>=0);var i;i=r?(r-r%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),u=67108863^67108863>>>o<<o,h=e;if(i-=s,i=Math.max(0,i),h){for(var f=0;s>f;f++)h.words[f]=this.words[f];h.length=s}if(0===s);else if(this.length>s){this.length-=s;for(var f=0;f<this.length;f++)this.words[f]=this.words[f+s]}else this.words[0]=0,this.length=1;for(var a=0,f=this.length-1;f>=0&&(0!==a||f>=i);f--){var l=this.words[f];this.words[f]=a<<26-o|l>>>o,a=l&u}return h&&0!==a&&(h.words[h.length++]=a),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),this},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.testn=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26,i=1<<r;if(this.length<=e)return!1;var o=this.words[e];return!!(o&i)},i.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var r=t%26,e=(t-r)/26;if(n(!this.sign,"imaskn works only with positive numbers"),0!==r&&e++,this.length=Math.min(e,this.length),0!==r){var i=67108863^67108863>>>r<<r;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return n("number"==typeof t),0>t?this.isubn(-t):this.sign?1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},i.prototype.isubn=function(t){if(n("number"==typeof t),0>t)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.sign=!1,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,r,e){var i,o=t.length+e;if(this.words.length<o){for(var s=new Array(o),i=0;i<this.length;i++)s[i]=this.words[i];this.words=s}else i=this.length;for(this.length=Math.max(this.length,o);i<this.length;i++)this.words[i]=0;for(var u=0,i=0;i<t.length;i++){var h=this.words[i+e]+u,f=t.words[i]*r;h-=67108863&f,u=(h>>26)-(f/67108864|0),this.words[i+e]=67108863&h}for(;i<this.length-e;i++){var h=this.words[i+e]+u;u=h>>26,this.words[i+e]=67108863&h}if(0===u)return this.strip();n(-1===u),u=0;for(var i=0;i<this.length;i++){var h=-this.words[i]+u;u=h>>26,this.words[i]=67108863&h}return this.sign=!0,this.strip()},i.prototype._wordDiv=function(t,r){var n=this.length-t.length,e=this.clone(),o=t,s=o.words[o.length-1],u=this._countBits(s);n=26-u,0!==n&&(o=o.shln(n),e.ishln(n),s=o.words[o.length-1]);var h,f=e.length-o.length;if("mod"!==r){h=new i(null),h.length=f+1,h.words=new Array(h.length);for(var a=0;a<h.length;a++)h.words[a]=0}var l=e.clone()._ishlnsubmul(o,1,f);l.sign||(e=l,h&&(h.words[f]=1));for(var c=f-1;c>=0;c--){var p=67108864*e.words[o.length+c]+e.words[o.length+c-1];for(p=Math.min(p/s|0,67108863),e._ishlnsubmul(o,p,c);e.sign;)p--,e.sign=!1,e._ishlnsubmul(o,1,c),0!==e.cmpn(0)&&(e.sign=!e.sign);h&&(h.words[c]=p)}return h&&h.strip(),e.strip(),"div"!==r&&0!==n&&e.ishrn(n),{div:h?h:null,mod:e}},i.prototype.divmod=function(t,r){if(n(0!==t.cmpn(0)),this.sign&&!t.sign){var e,o,s=this.neg().divmod(t,r);return"mod"!==r&&(e=s.div.neg()),"div"!==r&&(o=0===s.mod.cmpn(0)?s.mod:t.sub(s.mod)),{div:e,mod:o}}if(!this.sign&&t.sign){var e,s=this.divmod(t.neg(),r);return"mod"!==r&&(e=s.div.neg()),{div:e,mod:s.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),r):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===r?{div:this.divn(t.words[0]),mod:null}:"mod"===r?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,r)},i.prototype.div=function(t){return this.divmod(t,"div").div},i.prototype.mod=function(t){return this.divmod(t,"mod").mod},i.prototype.divRound=function(t){var r=this.divmod(t);if(0===r.mod.cmpn(0))return r.div;var n=r.div.sign?r.mod.isub(t):r.mod,e=t.shrn(1),i=t.andln(1),o=n.cmp(e);return 0>o||1===i&&0===o?r.div:r.div.sign?r.div.isubn(1):r.div.iaddn(1)},i.prototype.modn=function(t){n(67108863>=t);for(var r=(1<<26)%t,e=0,i=this.length-1;i>=0;i--)e=(r*e+this.words[i])%t;return e},i.prototype.idivn=function(t){n(67108863>=t);for(var r=0,e=this.length-1;e>=0;e--){var i=this.words[e]+67108864*r;this.words[e]=i/t|0,r=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){n(!t.sign),n(0!==t.cmpn(0));var r=this,e=t.clone();r=r.sign?r.mod(t):r.clone();for(var o=new i(1),s=new i(0),u=new i(0),h=new i(1),f=0;r.isEven()&&e.isEven();)r.ishrn(1),e.ishrn(1),++f;for(var a=e.clone(),l=r.clone();0!==r.cmpn(0);){for(;r.isEven();)r.ishrn(1),o.isEven()&&s.isEven()?(o.ishrn(1),s.ishrn(1)):(o.iadd(a).ishrn(1),s.isub(l).ishrn(1));for(;e.isEven();)e.ishrn(1),u.isEven()&&h.isEven()?(u.ishrn(1),h.ishrn(1)):(u.iadd(a).ishrn(1),h.isub(l).ishrn(1));r.cmp(e)>=0?(r.isub(e),o.isub(u),s.isub(h)):(e.isub(r),u.isub(o),h.isub(s))}return{a:u,b:h,gcd:e.ishln(f)}},i.prototype._invmp=function(t){n(!t.sign),n(0!==t.cmpn(0));var r=this,e=t.clone();r=r.sign?r.mod(t):r.clone();for(var o=new i(1),s=new i(0),u=e.clone();r.cmpn(1)>0&&e.cmpn(1)>0;){for(;r.isEven();)r.ishrn(1),o.isEven()?o.ishrn(1):o.iadd(u).ishrn(1);for(;e.isEven();)e.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(u).ishrn(1);r.cmp(e)>=0?(r.isub(e),o.isub(s)):(e.isub(r),s.isub(o))}return 0===r.cmpn(1)?o:s},i.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var r=this.clone(),n=t.clone();r.sign=!1,n.sign=!1;for(var e=0;r.isEven()&&n.isEven();e++)r.ishrn(1),n.ishrn(1);for(;;){for(;r.isEven();)r.ishrn(1);for(;n.isEven();)n.ishrn(1);var i=r.cmp(n);if(0>i){var o=r;r=n,n=o}else if(0===i||0===n.cmpn(1))break;r.isub(n)}return n.ishln(e)},i.prototype.invm=function(t){return this.egcd(t).a.mod(t)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){n("number"==typeof t);var r=t%26,e=(t-r)/26,i=1<<r;if(this.length<=e){for(var o=this.length;e+1>o;o++)this.words[o]=0;return this.words[e]|=i,this.length=e+1,this}for(var s=i,o=e;0!==s&&o<this.length;o++){var u=this.words[o];u+=s,s=u>>>26,u&=67108863,this.words[o]=u}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.cmpn=function(t){var r=0>t;if(r&&(t=-t),this.sign&&!r)return-1;if(!this.sign&&r)return 1;t&=67108863,this.strip();var n;if(this.length>1)n=1;else{var e=this.words[0];n=e===t?0:t>e?-1:1}return this.sign&&(n=-n),n},i.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var r=this.ucmp(t);return this.sign?-r:r},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,n=this.length-1;n>=0;n--){var e=this.words[n],i=t.words[n];if(e!==i){i>e?r=-1:e>i&&(r=1);break}}return r},i.red=function(t){return new c(t)},i.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};u.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},u.prototype.ireduce=function(t){var r,n=t;do this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),r=n.bitLength();while(r>this.n);var e=r<this.n?-1:n.ucmp(this.p);return 0===e?(n.words[0]=0,n.length=1):e>0?n.isub(this.p):n.strip(),n},u.prototype.split=function(t,r){t.ishrn(this.n,0,r)},u.prototype.imulK=function(t){return t.imul(this.k)},e(h,u),h.prototype.split=function(t,r){for(var n=4194303,e=Math.min(t.length,9),i=0;e>i;i++)r.words[i]=t.words[i];if(r.length=e,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];r.words[r.length++]=o&n;for(var i=10;i<t.length;i++){var s=t.words[i];t.words[i-10]=(s&n)<<4|o>>>22,o=s}t.words[i-10]=o>>>22,t.length-=9},h.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r,n=0,e=0;e<t.length;e++){var i=t.words[e];r=64*i,n+=977*i,r+=n/67108864|0,n&=67108863,t.words[e]=n,n=r}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},e(f,u),e(a,u),e(l,u),l.prototype.imulK=function(t){for(var r=0,n=0;n<t.length;n++){var e=19*t.words[n]+r,i=67108863&e;e>>>=26,t.words[n]=i,r=e}return 0!==r&&(t.words[t.length++]=r),t},i._prime=function m(t){if(w[t])return w[t];var m;if("k256"===t)m=new h;else if("p224"===t)m=new f;else if("p192"===t)m=new a;else{if("p25519"!==t)throw new Error("Unknown prime "+t);m=new l}return w[t]=m,m},c.prototype._verify1=function(t){n(!t.sign,"red works only with positives"),n(t.red,"red works only with red numbers")},c.prototype._verify2=function(t,r){n(!t.sign&&!r.sign,"red works only with positives"),n(t.red&&t.red===r.red,"red works only with red numbers")},c.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},c.prototype.neg=function(t){var r=t.clone();return r.sign=!r.sign,r.iadd(this.m)._forceRed(this)},c.prototype.add=function(t,r){this._verify2(t,r);var n=t.add(r);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},c.prototype.iadd=function(t,r){this._verify2(t,r);var n=t.iadd(r);return n.cmp(this.m)>=0&&n.isub(this.m),n},c.prototype.sub=function(t,r){this._verify2(t,r);var n=t.sub(r);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},c.prototype.isub=function(t,r){this._verify2(t,r);var n=t.isub(r);return n.cmpn(0)<0&&n.iadd(this.m),n},c.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.shln(r))},c.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},c.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},c.prototype.isqr=function(t){return this.imul(t,t)},c.prototype.sqr=function(t){return this.mul(t,t)},c.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var r=this.m.andln(3);if(n(r%2===1),3===r){var e=this.m.add(new i(1)).ishrn(2),o=this.pow(t,e);return o}for(var s=this.m.subn(1),u=0;0!==s.cmpn(0)&&0===s.andln(1);)u++,s.ishrn(1);n(0!==s.cmpn(0));var h=new i(1).toRed(this),f=h.redNeg(),a=this.m.subn(1).ishrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,a).cmp(f);)l.redIAdd(f);for(var c=this.pow(l,s),o=this.pow(t,s.addn(1).ishrn(1)),p=this.pow(t,s),v=u;0!==p.cmp(h);){for(var d=p,g=0;0!==d.cmp(h);g++)d=d.redSqr();n(v>g);var w=this.pow(c,new i(1).ishln(v-g-1));o=o.redMul(w),c=w.redSqr(),p=p.redMul(c),v=g}return o},c.prototype.invm=function(t){var r=t._invmp(this.m);return r.sign?(r.sign=!1,this.imod(r).redNeg()):this.imod(r)},c.prototype.pow=function(t,r){var n=[];if(0===r.cmpn(0))return new i(1);for(var e=r.clone();0!==e.cmpn(0);)n.push(e.andln(1)),e.ishrn(1);for(var o=t,s=0;s<n.length&&0===n[s];s++,o=this.sqr(o));if(++s<n.length)for(var e=this.sqr(o);s<n.length;s++,e=this.sqr(e))0!==n[s]&&(o=this.mul(o,e));return o},c.prototype.convertTo=function(t){var r=t.mod(this.m);return r===t?r.clone():r},c.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},i.mont=function(t){return new p(t)},e(p,c),p.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},p.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},p.prototype.imul=function(t,r){if(0===t.cmpn(0)||0===r.cmpn(0))return t.words[0]=0,t.length=1,t;var n=t.imul(r),e=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(e).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},p.prototype.mul=function(t,r){if(0===t.cmpn(0)||0===r.cmpn(0))return new i(0)._forceRed(this);var n=t.mul(r),e=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=n.isub(e).ishrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},p.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}}("undefined"==typeof r||r,this)},{}],16:[function(t,r,n){"use strict";function e(t){return i(t[0])*i(t[1])}var i=t("./lib/bn-sign");r.exports=e},{"./lib/bn-sign":7}],17:[function(t,r,n){"use strict";function e(t,r){return i(t[0].mul(r[1]).sub(t[1].mul(r[0])),t[1].mul(r[1]))}var i=t("./lib/rationalize");r.exports=e},{"./lib/rationalize":12}],18:[function(t,r,n){"use strict";function e(t){var r=t[0],n=t[1];if(0===r.cmpn(0))return 0;var e=r.divmod(n),s=e.div,u=i(s),h=e.mod;if(0===h.cmpn(0))return u;if(u){var f=o(u)+4,a=i(h.shln(f).divRound(n));return 0>u&&(a=-a),u+a*Math.pow(2,-f)}var l=n.bitLength()-h.bitLength()+53,a=i(h.shln(l).divRound(n));
    return 1023>l?a*Math.pow(2,-l):(a*=Math.pow(2,-1023),a*Math.pow(2,1023-l))}var i=t("./lib/bn-to-num"),o=t("./lib/ctz");r.exports=e},{"./lib/bn-to-num":8,"./lib/ctz":9}],19:[function(t,r,n){"use strict";function e(t,r,n,e,i){var o=["function ",t,"(a,l,h,",e.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?r.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",r,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(t,r,n,i){var o=new Function([e("A","x"+t+"y",r,["y"],i),e("P","c(x,y)"+t+"0",r,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""));return o()}r.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],20:[function(t,r,n){"use strict";"use restrict";function e(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var i=32;n.INT_BITS=i,n.INT_MAX=2147483647,n.INT_MIN=-1<<i-1,n.sign=function(t){return(t>0)-(0>t)},n.abs=function(t){var r=t>>i-1;return(t^r)-r},n.min=function(t,r){return r^(t^r)&-(r>t)},n.max=function(t,r){return t^(t^r)&-(r>t)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var r,n;return r=(t>65535)<<4,t>>>=r,n=(t>255)<<3,t>>>=n,r|=n,n=(t>15)<<2,t>>>=n,r|=n,n=(t>3)<<1,t>>>=n,r|=n,r|t>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},n.countTrailingZeros=e,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var r=0;256>r;++r){var n=r,e=r,i=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--i;t[r]=e<<i&255}}(o),n.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},n.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},n.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},n.interleave3=function(t,r,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},n.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},n.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},{}],21:[function(t,r,n){"use strict";function e(t,r){for(var n=0;t>n;++n)if(!(r[n]<=r[n+t]))return!0;return!1}function i(t,r,n,i){for(var o=0,s=0,u=0,h=t.length;h>u;++u){var f=t[u];if(!e(r,f)){for(var a=0;2*r>a;++a)n[o++]=f[a];i[s++]=u}}return s}function o(t,r,n,e){var o=t.length,s=r.length;if(!(0>=o||0>=s)){var u=t[0].length>>>1;if(!(0>=u)){var h,f=l.mallocDouble(2*u*o),a=l.mallocInt32(o);if(o=i(t,u,f,a),o>0){if(1===u&&e)c.init(o),h=c.sweepComplete(u,n,0,o,f,a,0,o,f,a);else{var v=l.mallocDouble(2*u*s),d=l.mallocInt32(s);s=i(r,u,v,d),s>0&&(c.init(o+s),h=1===u?c.sweepBipartite(u,n,0,o,f,a,0,s,v,d):p(u,n,e,o,f,a,s,v,d),l.free(v),l.free(d))}l.free(f),l.free(a)}return h}}}function s(t,r){a.push([t,r])}function u(t){return a=[],o(t,t,s,!0),a}function h(t,r){return a=[],o(t,r,s,!1),a}function f(t,r,n){switch(arguments.length){case 1:return u(t);case 2:return"function"==typeof r?o(t,t,r,!0):h(t,r);case 3:return o(t,r,n,!1);default:throw new Error("box-intersect: Invalid arguments")}}r.exports=f;var a,l=t("typedarray-pool"),c=t("./lib/sweep"),p=t("./lib/intersect")},{"./lib/intersect":23,"./lib/sweep":27,"typedarray-pool":54}],22:[function(t,r,n){"use strict";function e(t,r,n){var e="bruteForce"+(t?"Red":"Blue")+(r?"Flip":"")+(n?"Full":""),i=["function ",e,"(",_.join(),"){","var ",f,"=2*",o,";"],h="for(var i="+a+","+v+"="+f+"*"+a+";i<"+l+";++i,"+v+"+="+f+"){var x0="+c+"["+s+"+"+v+"],x1="+c+"["+s+"+"+v+"+"+o+"],xi="+p+"[i];",x="for(var j="+d+","+y+"="+f+"*"+d+";j<"+g+";++j,"+y+"+="+f+"){var y0="+w+"["+s+"+"+y+"],"+(n?"y1="+w+"["+s+"+"+y+"+"+o+"],":"")+"yi="+m+"[j];";return t?i.push(h,A,":",x):i.push(x,A,":",h),n?i.push("if(y1<x0||x1<y0)continue;"):r?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+s+"+1;k<"+o+";++k){var r0="+c+"[k+"+v+"],r1="+c+"[k+"+o+"+"+v+"],b0="+w+"[k+"+y+"],b1="+w+"[k+"+o+"+"+y+"];if(r1<b0||b1<r0)continue "+A+";}var "+b+"="+u+"("),r?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+b+"!==void 0)return "+b+";}}}"),{name:e,code:i.join("")}}function i(t){function r(r,n){var o=e(r,n,t);i.push(o.code),s.push("return "+o.name+"("+_.join()+");")}var n="bruteForce"+(t?"Full":"Partial"),i=[],o=_.slice();t||o.splice(3,0,h);var s=["function "+n+"("+o.join()+"){"];s.push("if("+l+"-"+a+">"+g+"-"+d+"){"),t?(r(!0,!1),s.push("}else{"),r(!1,!1)):(s.push("if("+h+"){"),r(!0,!0),s.push("}else{"),r(!0,!1),s.push("}}else{if("+h+"){"),r(!1,!0),s.push("}else{"),r(!1,!1),s.push("}")),s.push("}}return "+n);var u=i.join("")+s.join(""),f=new Function(u);return f()}var o="d",s="ax",u="vv",h="fp",f="es",a="rs",l="re",c="rb",p="ri",v="rp",d="bs",g="be",w="bb",m="bi",y="bp",b="rv",A="Q",_=[o,s,u,a,l,c,p,d,g,w,m];n.partial=i(!1),n.full=i(!0)},{}],23:[function(t,r,n){"use strict";function e(t,r){var n=8*f.log2(r+1)*(t+1)|0,e=f.nextPow2(M*n);T.length<e&&(h.free(T),T=h.mallocInt32(e));var i=f.nextPow2(R*n);i>B&&(h.free(B),B=h.mallocDouble(i))}function i(t,r,n,e,i,o,s,u,h){var f=M*t;T[f]=r,T[f+1]=n,T[f+2]=e,T[f+3]=i,T[f+4]=o,T[f+5]=s;var a=R*t;B[a]=u,B[a+1]=h}function o(t,r,n,e,i,o,s,u,h,f,a){var l=2*t,c=h*l,p=f[c+r];t:for(var v=i,d=i*l;o>v;++v,d+=l){var g=s[d+r],w=s[d+r+t];if(!(g>p||p>w||e&&p===g)){for(var m=u[v],y=r+1;t>y;++y){var g=s[d+y],w=s[d+y+t],b=f[c+y],A=f[c+y+t];if(b>w||g>A)continue t}var _;if(_=e?n(a,m):n(m,a),void 0!==_)return _}}}function s(t,r,n,e,i,o,s,u,h,f){var a=2*t,l=u*a,c=h[l+r];t:for(var p=e,v=e*a;i>p;++p,v+=a){var d=s[p];if(d!==f){var g=o[v+r],w=o[v+r+t];if(!(g>c||c>w)){for(var m=r+1;t>m;++m){var g=o[v+m],w=o[v+m+t],y=h[l+m],b=h[l+m+t];if(y>w||g>b)continue t}var A=n(d,f);if(void 0!==A)return A}}}}function u(t,r,n,u,h,f,a,d,I){e(t,u+a);var P,S=0,U=2*t;for(i(S++,0,0,u,0,a,n?16:0,-(1/0),1/0),n||i(S++,0,0,a,0,u,1,-(1/0),1/0);S>0;){S-=1;var k=S*M,j=T[k],L=T[k+1],N=T[k+2],D=T[k+3],Y=T[k+4],O=T[k+5],C=S*R,F=B[C],q=B[C+1],z=1&O,K=!!(16&O),G=h,V=f,X=d,Z=I;if(z&&(G=d,V=I,X=h,Z=f),!(2&O&&(N=A(t,j,L,N,G,V,q),L>=N)||4&O&&(L=_(t,j,L,N,G,V,F),L>=N))){var H=N-L,J=Y-D;if(K){if(m>t*H*(H+J)){if(P=p.scanComplete(t,j,r,L,N,G,V,D,Y,X,Z),void 0!==P)return P;continue}}else{if(t*Math.min(H,J)<g){if(P=l(t,j,r,z,L,N,G,V,D,Y,X,Z),void 0!==P)return P;continue}if(w>t*H*J){if(P=p.scanBipartite(t,j,r,z,L,N,G,V,D,Y,X,Z),void 0!==P)return P;continue}}var Q=y(t,j,L,N,G,V,F,q);if(Q>L)if(g>t*(Q-L)){if(P=c(t,j+1,r,L,Q,G,V,D,Y,X,Z),void 0!==P)return P}else if(j===t-2){if(P=z?p.sweepBipartite(t,r,D,Y,X,Z,L,Q,G,V):p.sweepBipartite(t,r,L,Q,G,V,D,Y,X,Z),void 0!==P)return P}else i(S++,j+1,L,Q,D,Y,z,-(1/0),1/0),i(S++,j+1,D,Y,L,Q,1^z,-(1/0),1/0);if(N>Q){var $=v(t,j,D,Y,X,Z),W=X[U*$+j],tt=b(t,j,$,Y,X,Z,W);if(Y>tt&&i(S++,j,Q,N,tt,Y,(4|z)+(K?16:0),W,q),$>D&&i(S++,j,Q,N,D,$,(2|z)+(K?16:0),F,W),$+1===tt){if(P=K?s(t,j,r,Q,N,G,V,$,X,Z[$]):o(t,j,r,z,Q,N,G,V,$,X,Z[$]),void 0!==P)return P}else if(tt>$){var rt;if(K){if(rt=x(t,j,Q,N,G,V,W),rt>Q){var nt=b(t,j,Q,rt,G,V,W);if(j===t-2){if(nt>Q&&(P=p.sweepComplete(t,r,Q,nt,G,V,$,tt,X,Z),void 0!==P))return P;if(rt>nt&&(P=p.sweepBipartite(t,r,nt,rt,G,V,$,tt,X,Z),void 0!==P))return P}else nt>Q&&i(S++,j+1,Q,nt,$,tt,16,-(1/0),1/0),rt>nt&&(i(S++,j+1,nt,rt,$,tt,0,-(1/0),1/0),i(S++,j+1,$,tt,nt,rt,1,-(1/0),1/0))}}else rt=z?E(t,j,Q,N,G,V,W):x(t,j,Q,N,G,V,W),rt>Q&&(j===t-2?P=z?p.sweepBipartite(t,r,$,tt,X,Z,Q,rt,G,V):p.sweepBipartite(t,r,Q,rt,G,V,$,tt,X,Z):(i(S++,j+1,Q,rt,$,tt,z,-(1/0),1/0),i(S++,j+1,$,tt,Q,rt,1^z,-(1/0),1/0)))}}}}}r.exports=u;var h=t("typedarray-pool"),f=t("bit-twiddle"),a=t("./brute"),l=a.partial,c=a.full,p=t("./sweep"),v=t("./median"),d=t("./partition"),g=128,w=1<<22,m=1<<22,y=d("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),b=d("lo===p0",["p0"]),A=d("lo<p0",["p0"]),_=d("hi<=p0",["p0"]),x=d("lo<=p0&&p0<=hi",["p0"]),E=d("lo<p0&&p0<=hi",["p0"]),M=6,R=2,I=1024,T=h.mallocInt32(I),B=h.mallocDouble(I)},{"./brute":22,"./median":24,"./partition":25,"./sweep":27,"bit-twiddle":20,"typedarray-pool":54}],24:[function(t,r,n){"use strict";function e(t,r,n,e,i,o){for(var s=2*t,u=s*(n+1)+r,h=n+1;e>h;++h,u+=s)for(var f=i[u],a=h,l=s*(h-1);a>n&&i[l+r]>f;--a,l-=s){for(var c=l,p=l+s,v=0;s>v;++v,++c,++p){var d=i[c];i[c]=i[p],i[p]=d}var g=o[a];o[a]=o[a-1],o[a-1]=g}}function i(t,r,n,i,o,h){if(n+1>=i)return n;for(var f=n,a=i,l=i+n>>>1,c=2*t,p=l,v=o[c*l+r];a>f;){if(u>a-f){e(t,r,f,a,o,h),v=o[c*l+r];break}var d=a-f,g=Math.random()*d+f|0,w=o[c*g+r],m=Math.random()*d+f|0,y=o[c*m+r],b=Math.random()*d+f|0,A=o[c*b+r];y>=w?A>=y?(p=m,v=y):w>=A?(p=g,v=w):(p=b,v=A):y>=A?(p=m,v=y):A>=w?(p=g,v=w):(p=b,v=A);for(var _=c*(a-1),x=c*p,E=0;c>E;++E,++_,++x){var M=o[_];o[_]=o[x],o[x]=M}var R=h[a-1];h[a-1]=h[p],h[p]=R,p=s(t,r,f,a-1,o,h,v);for(var _=c*(a-1),x=c*p,E=0;c>E;++E,++_,++x){var M=o[_];o[_]=o[x],o[x]=M}var R=h[a-1];if(h[a-1]=h[p],h[p]=R,p>l){for(a=p-1;a>f&&o[c*(a-1)+r]===v;)a-=1;a+=1}else{if(!(l>p))break;for(f=p+1;a>f&&o[c*f+r]===v;)f+=1}}return s(t,r,n,l,o,h,o[c*l+r])}r.exports=i;var o=t("./partition"),s=o("lo<p0",["p0"]),u=8},{"./partition":25}],25:[function(t,r,n){"use strict";function e(t,r){var n="abcdef".split("").concat(r),e=[];return t.indexOf("lo")>=0&&e.push("lo=e[k+n]"),t.indexOf("hi")>=0&&e.push("hi=e[k+o]"),n.push(i.replace("_",e.join()).replace("$",t)),Function.apply(void 0,n)}r.exports=e;var i="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],26:[function(t,r,n){"use strict";function e(t,r){4*c>=r?i(0,r-1,t):l(0,r-1,t)}function i(t,r,n){for(var e=2*(t+1),i=t+1;r>=i;++i){for(var o=n[e++],s=n[e++],u=i,h=e-2;u-- >t;){var f=n[h-2],a=n[h-1];if(o>f)break;if(f===o&&s>a)break;n[h]=f,n[h+1]=a,h-=2}n[h]=o,n[h+1]=s}}function o(t,r,n){t*=2,r*=2;var e=n[t],i=n[t+1];n[t]=n[r],n[t+1]=n[r+1],n[r]=e,n[r+1]=i}function s(t,r,n){t*=2,r*=2,n[t]=n[r],n[t+1]=n[r+1]}function u(t,r,n,e){t*=2,r*=2,n*=2;var i=e[t],o=e[t+1];e[t]=e[r],e[t+1]=e[r+1],e[r]=e[n],e[r+1]=e[n+1],e[n]=i,e[n+1]=o}function h(t,r,n,e,i){t*=2,r*=2,i[t]=i[r],i[r]=n,i[t+1]=i[r+1],i[r+1]=e}function f(t,r,n){t*=2,r*=2;var e=n[t],i=n[r];return i>e?!1:e===i?n[t+1]>n[r+1]:!0}function a(t,r,n,e){t*=2;var i=e[t];return r>i?!0:i===r?e[t+1]<n:!1}function l(t,r,n){var e=(r-t+1)/6|0,p=t+e,v=r-e,d=t+r>>1,g=d-e,w=d+e,m=p,y=g,b=d,A=w,_=v,x=t+1,E=r-1,M=0;f(m,y,n)&&(M=m,m=y,y=M),f(A,_,n)&&(M=A,A=_,_=M),f(m,b,n)&&(M=m,m=b,b=M),f(y,b,n)&&(M=y,y=b,b=M),f(m,A,n)&&(M=m,m=A,A=M),f(b,A,n)&&(M=b,b=A,A=M),f(y,_,n)&&(M=y,y=_,_=M),f(y,b,n)&&(M=y,y=b,b=M),f(A,_,n)&&(M=A,A=_,_=M);for(var R=n[2*y],I=n[2*y+1],T=n[2*A],B=n[2*A+1],P=2*m,S=2*b,U=2*_,k=2*p,j=2*d,L=2*v,N=0;2>N;++N){var D=n[P+N],Y=n[S+N],O=n[U+N];n[k+N]=D,n[j+N]=Y,n[L+N]=O}s(g,t,n),s(w,r,n);for(var C=x;E>=C;++C)if(a(C,R,I,n))C!==x&&o(C,x,n),++x;else if(!a(C,T,B,n))for(;;){if(a(E,T,B,n)){a(E,R,I,n)?(u(C,x,E,n),++x,--E):(o(C,E,n),--E);break}if(--E<C)break}h(t,x-1,R,I,n),h(r,E+1,T,B,n),c>=x-2-t?i(t,x-2,n):l(t,x-2,n),c>=r-(E+2)?i(E+2,r,n):l(E+2,r,n),c>=E-x?i(x,E,n):l(x,E,n)}r.exports=e;var c=32},{}],27:[function(t,r,n){"use strict";function e(t){var r=l.nextPow2(t);d.length<r&&(a.free(d),d=a.mallocInt32(r)),g.length<r&&(a.free(g),g=a.mallocInt32(r)),w.length<r&&(a.free(w),w=a.mallocInt32(r)),m.length<r&&(a.free(m),m=a.mallocInt32(r)),y.length<r&&(a.free(y),y=a.mallocInt32(r)),b.length<r&&(a.free(b),b=a.mallocInt32(r));var n=8*r;A.length<n&&(a.free(A),A=a.mallocDouble(n))}function i(t,r,n,e){var i=r[e],o=t[n-1];t[i]=o,r[o]=i}function o(t,r,n,e){t[n]=e,r[e]=n}function s(t,r,n,e,s,u,h,f,a,l){for(var v=0,y=2*t,b=t-1,_=y-1,x=n;e>x;++x){var E=u[x],M=y*x;A[v++]=s[M+b],A[v++]=-(E+1),A[v++]=s[M+_],A[v++]=E}for(var x=h;f>x;++x){var E=l[x]+p,R=y*x;A[v++]=a[R+b],A[v++]=-E,A[v++]=a[R+_],A[v++]=E}var I=v>>>1;c(A,I);for(var T=0,B=0,x=0;I>x;++x){var P=0|A[2*x+1];if(P>=p)P=P-p|0,i(w,m,B--,P);else if(P>=0)i(d,g,T--,P);else if(-p>=P){P=-P-p|0;for(var S=0;T>S;++S){var U=r(d[S],P);if(void 0!==U)return U}o(w,m,B++,P)}else{P=-P-1|0;for(var S=0;B>S;++S){var U=r(P,w[S]);if(void 0!==U)return U}o(d,g,T++,P)}}}function u(t,r,n,e,s,u,h,f,a,l){for(var p=0,v=2*t,_=t-1,x=v-1,E=n;e>E;++E){var M=u[E]+1<<1,R=v*E;A[p++]=s[R+_],A[p++]=-M,A[p++]=s[R+x],A[p++]=M}for(var E=h;f>E;++E){var M=l[E]+1<<1,I=v*E;A[p++]=a[I+_],A[p++]=1|-M,A[p++]=a[I+x],A[p++]=1|M}var T=p>>>1;c(A,T);for(var B=0,P=0,S=0,E=0;T>E;++E){var U=0|A[2*E+1],k=1&U;if(T-1>E&&U>>1===A[2*E+3]>>1&&(k=2,E+=1),0>U){for(var j=-(U>>1)-1,L=0;S>L;++L){var N=r(y[L],j);if(void 0!==N)return N}if(0!==k)for(var L=0;B>L;++L){var N=r(d[L],j);if(void 0!==N)return N}if(1!==k)for(var L=0;P>L;++L){var N=r(w[L],j);if(void 0!==N)return N}0===k?o(d,g,B++,j):1===k?o(w,m,P++,j):2===k&&o(y,b,S++,j)}else{var j=(U>>1)-1;0===k?i(d,g,B--,j):1===k?i(w,m,P--,j):2===k&&i(y,b,S--,j)}}}function h(t,r,n,e,s,u,h,f,a,l,v,w){var m=0,y=2*t,b=r,_=r+t,x=1,E=1;e?E=p:x=p;for(var M=s;u>M;++M){var R=M+x,I=y*M;A[m++]=h[I+b],A[m++]=-R,A[m++]=h[I+_],A[m++]=R}for(var M=a;l>M;++M){var R=M+E,T=y*M;A[m++]=v[T+b],A[m++]=-R}var B=m>>>1;c(A,B);for(var P=0,M=0;B>M;++M){var S=0|A[2*M+1];if(0>S){var R=-S,U=!1;if(R>=p?(U=!e,R-=p):(U=!!e,R-=1),U)o(d,g,P++,R);else{var k=w[R],j=y*R,L=v[j+r+1],N=v[j+r+1+t];t:for(var D=0;P>D;++D){var Y=d[D],O=y*Y;if(!(N<h[O+r+1]||h[O+r+1+t]<L)){for(var C=r+2;t>C;++C)if(v[j+C+t]<h[O+C]||h[O+C+t]<v[j+C])continue t;var F,q=f[Y];if(F=e?n(k,q):n(q,k),void 0!==F)return F}}}}else i(d,g,P--,S-x)}}function f(t,r,n,e,i,o,s,u,h,f,a){for(var l=0,v=2*t,g=r,w=r+t,m=e;i>m;++m){var y=m+p,b=v*m;A[l++]=o[b+g],A[l++]=-y,A[l++]=o[b+w],A[l++]=y}for(var m=u;h>m;++m){var y=m+1,_=v*m;A[l++]=f[_+g],A[l++]=-y}var x=l>>>1;c(A,x);for(var E=0,m=0;x>m;++m){var M=0|A[2*m+1];if(0>M){var y=-M;if(y>=p)d[E++]=y-p;else{y-=1;var R=a[y],I=v*y,T=f[I+r+1],B=f[I+r+1+t];t:for(var P=0;E>P;++P){var S=d[P],U=s[S];if(U===R)break;var k=v*S;if(!(B<o[k+r+1]||o[k+r+1+t]<T)){for(var j=r+2;t>j;++j)if(f[I+j+t]<o[k+j]||o[k+j+t]<f[I+j])continue t;var L=n(U,R);if(void 0!==L)return L}}}}else{for(var y=M-p,P=E-1;P>=0;--P)if(d[P]===y){for(var j=P+1;E>j;++j)d[j-1]=d[j];break}--E}}}r.exports={init:e,sweepBipartite:s,sweepComplete:u,scanBipartite:h,scanComplete:f};var a=t("typedarray-pool"),l=t("bit-twiddle"),c=t("./sort"),p=1<<28,v=1024,d=a.mallocInt32(v),g=a.mallocInt32(v),w=a.mallocInt32(v),m=a.mallocInt32(v),y=a.mallocInt32(v),b=a.mallocInt32(v),A=a.mallocDouble(8*v)},{"./sort":26,"bit-twiddle":20,"typedarray-pool":54}],28:[function(t,r,n){(function(r){"use strict";function e(){try{var t=new Uint8Array(1);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?s(this,t):"string"==typeof t?u(this,t,arguments.length>1?arguments[1]:"utf8"):h(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function s(t,r){if(t=d(t,0>r?0:0|g(r)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;r>n;n++)t[n]=0;return t}function u(t,r,n){("string"!=typeof n||""===n)&&(n="utf8");var e=0|m(r,n);return t=d(t,e),t.write(r,n),t}function h(t,r){if(o.isBuffer(r))return f(t,r);if(J(r))return a(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return l(t,r);if(r instanceof ArrayBuffer)return c(t,r)}return r.length?p(t,r):v(t,r)}function f(t,r){var n=0|g(r.length);return t=d(t,n),r.copy(t,0,0,n),t}function a(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function l(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function c(t,r){return r.byteLength,o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=o.prototype):t=l(t,new Uint8Array(r)),t}function p(t,r){var n=0|g(r.length);t=d(t,n);for(var e=0;n>e;e+=1)t[e]=255&r[e];return t}function v(t,r){var n,e=0;"Buffer"===r.type&&J(r.data)&&(n=r.data,e=0|g(n.length)),t=d(t,e);for(var i=0;e>i;i+=1)t[i]=255&n[i];return t}function d(t,r){o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=o.prototype):t.length=r;var n=0!==r&&r<=o.poolSize>>>1;return n&&(t.parent=Q),t}function g(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function w(t,r){if(!(this instanceof w))return new w(t,r);var n=new o(t,r);return delete n.parent,n}function m(t,r){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var e=!1;;)switch(r){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(e)return z(t).length;r=(""+r).toLowerCase(),e=!0}}function y(t,r,n){var e=!1;if(r=0|r,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>r&&(r=0),n>this.length&&(n=this.length),r>=n)return"";for(;;)switch(t){case"hex":return S(this,r,n);case"utf8":case"utf-8":return I(this,r,n);case"ascii":return B(this,r,n);case"binary":return P(this,r,n);case"base64":return R(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function b(t,r,n,e){n=Number(n)||0;var i=t.length-n;e?(e=Number(e),e>i&&(e=i)):e=i;var o=r.length;if(o%2!==0)throw new Error("Invalid hex string");e>o/2&&(e=o/2);for(var s=0;e>s;s++){var u=parseInt(r.substr(2*s,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[n+s]=u}return s}function A(t,r,n,e){return X(z(r,t.length-n),t,n,e)}function _(t,r,n,e){return X(K(r),t,n,e)}function x(t,r,n,e){return _(t,r,n,e)}function E(t,r,n,e){return X(V(r),t,n,e)}function M(t,r,n,e){return X(G(r,t.length-n),t,n,e)}function R(t,r,n){return 0===r&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(r,n))}function I(t,r,n){n=Math.min(t.length,n);for(var e=[],i=r;n>i;){var o=t[i],s=null,u=o>239?4:o>223?3:o>191?2:1;if(n>=i+u){var h,f,a,l;switch(u){case 1:128>o&&(s=o);break;case 2:h=t[i+1],128===(192&h)&&(l=(31&o)<<6|63&h,l>127&&(s=l));break;case 3:h=t[i+1],f=t[i+2],128===(192&h)&&128===(192&f)&&(l=(15&o)<<12|(63&h)<<6|63&f,l>2047&&(55296>l||l>57343)&&(s=l));break;case 4:h=t[i+1],f=t[i+2],a=t[i+3],128===(192&h)&&128===(192&f)&&128===(192&a)&&(l=(15&o)<<18|(63&h)<<12|(63&f)<<6|63&a,l>65535&&1114112>l&&(s=l))}}null===s?(s=65533,u=1):s>65535&&(s-=65536,e.push(s>>>10&1023|55296),s=56320|1023&s),e.push(s),i+=u}return T(e)}function T(t){var r=t.length;if($>=r)return String.fromCharCode.apply(String,t);for(var n="",e=0;r>e;)n+=String.fromCharCode.apply(String,t.slice(e,e+=$));return n}function B(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;n>i;i++)e+=String.fromCharCode(127&t[i]);return e}function P(t,r,n){var e="";n=Math.min(t.length,n);for(var i=r;n>i;i++)e+=String.fromCharCode(t[i]);return e}function S(t,r,n){var e=t.length;(!r||0>r)&&(r=0),(!n||0>n||n>e)&&(n=e);for(var i="",o=r;n>o;o++)i+=q(t[o]);return i}function U(t,r,n){for(var e=t.slice(r,n),i="",o=0;o<e.length;o+=2)i+=String.fromCharCode(e[o]+256*e[o+1]);return i}function k(t,r,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,r,n,e,i,s){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>i||s>r)throw new RangeError("value is out of bounds");if(n+e>t.length)throw new RangeError("index out of range")}function L(t,r,n,e){0>r&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(r&255<<8*(e?i:1-i))>>>8*(e?i:1-i)}function N(t,r,n,e){0>r&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=r>>>8*(e?i:3-i)&255}function D(t,r,n,e,i,o){if(n+e>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function Y(t,r,n,e,i){return i||D(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),H.write(t,r,n,e,23,4),n+4}function O(t,r,n,e,i){return i||D(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),H.write(t,r,n,e,52,8),n+8}function C(t){if(t=F(t).replace(W,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return 16>t?"0"+t.toString(16):t.toString(16)}function z(t,r){r=r||1/0;for(var n,e=t.length,i=null,o=[],s=0;e>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!i){if(n>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(s+1===e){(r-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(r-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,128>n){if((r-=1)<0)break;o.push(n)}else if(2048>n){if((r-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(t){for(var r=[],n=0;n<t.length;n++)r.push(255&t.charCodeAt(n));return r}function G(t,r){for(var n,e,i,o=[],s=0;s<t.length&&!((r-=2)<0);s++)n=t.charCodeAt(s),e=n>>8,i=n%256,o.push(i),o.push(e);return o}function V(t){return Z.toByteArray(C(t))}function X(t,r,n,e){for(var i=0;e>i&&!(i+n>=r.length||i>=t.length);i++)r[i+n]=t[i];return i}var Z=t("base64-js"),H=t("ieee754"),J=t("isarray");n.Buffer=o,n.SlowBuffer=w,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Q={};o.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:e(),o._augment=function(t){return t.__proto__=o.prototype,t},o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,r){if(!o.isBuffer(t)||!o.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,e=r.length,i=0,s=Math.min(n,e);s>i&&t[i]===r[i];)++i;return i!==s&&(n=t[i],e=r[i]),e>n?-1:n>e?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,r){if(!J(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;n++)r+=t[n].length;var e=new o(r),i=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(e,i),i+=s.length}return e},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===o.compare(this,t)},o.prototype.inspect=function(){var t="",r=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,r){function n(t,r,n){for(var e=-1,i=0;n+i<t.length;i++)if(t[n+i]===r[-1===e?0:i-e]){if(-1===e&&(e=i),i-e+1===r.length)return n+e}else e=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(o.isBuffer(t))return n(this,t,r);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):n(this,[t],r);throw new TypeError("val must be string, number or Buffer")},o.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else if(isFinite(r))r=0|r,isFinite(n)?(n=0|n,void 0===e&&(e="utf8")):(e=n,n=void 0);else{var i=e;e=r,r=0|n,n=i}var o=this.length-r;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");e||(e="utf8");for(var s=!1;;)switch(e){case"hex":return b(this,t,r,n);case"utf8":case"utf-8":return A(this,t,r,n);case"ascii":return _(this,t,r,n);case"binary":return x(this,t,r,n);case"base64":return E(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),t>r&&(r=t);var e;if(o.TYPED_ARRAY_SUPPORT)e=this.subarray(t,r),e.__proto__=o.prototype;else{var i=r-t;e=new o(i,void 0);for(var s=0;i>s;s++)e[s]=this[s+t]}return e.length&&(e.parent=this.parent||this),e},o.prototype.readUIntLE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return e},o.prototype.readUIntBE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t+--r],i=1;r>0&&(i*=256);)e+=this[t+--r]*i;return e},o.prototype.readUInt8=function(t,r){return r||k(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,r){return r||k(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,r){return r||k(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,r){return r||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,r){return r||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=this[t],i=1,o=0;++o<r&&(i*=256);)e+=this[t+o]*i;return i*=128,e>=i&&(e-=Math.pow(2,8*r)),e},o.prototype.readIntBE=function(t,r,n){t=0|t,r=0|r,n||k(t,r,this.length);for(var e=r,i=1,o=this[t+--e];e>0&&(i*=256);)o+=this[t+--e]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o},o.prototype.readInt8=function(t,r){return r||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,r){r||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,r){r||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,r){return r||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,r){return r||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,r){return r||k(t,4,this.length),H.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,r){return r||k(t,4,this.length),H.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,r){return r||k(t,8,this.length),H.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,r){return r||k(t,8,this.length),H.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,r,n,e){t=+t,r=0|r,n=0|n,e||j(this,t,r,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[r]=255&t;++o<n&&(i*=256);)this[r+o]=t/i&255;return r+n},o.prototype.writeUIntBE=function(t,r,n,e){t=+t,r=0|r,n=0|n,e||j(this,t,r,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+n},o.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},o.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):L(this,t,r,!0),r+2},o.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):L(this,t,r,!1),r+2},o.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):N(this,t,r,!0),r+4},o.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):N(this,t,r,!1),r+4},o.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r=0|r,!e){var i=Math.pow(2,8*n-1);j(this,t,r,n,i-1,-i)}var o=0,s=1,u=0>t?1:0;for(this[r]=255&t;++o<n&&(s*=256);)this[r+o]=(t/s>>0)-u&255;return r+n},o.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r=0|r,!e){var i=Math.pow(2,8*n-1);j(this,t,r,n,i-1,-i)}var o=n-1,s=1,u=0>t?1:0;for(this[r+o]=255&t;--o>=0&&(s*=256);)this[r+o]=(t/s>>0)-u&255;return r+n},o.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},o.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):L(this,t,r,!0),r+2},o.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):L(this,t,r,!1),r+2},o.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):N(this,t,r,!0),r+4},o.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||j(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):N(this,t,r,!1),r+4},o.prototype.writeFloatLE=function(t,r,n){return Y(this,t,r,!0,n)},o.prototype.writeFloatBE=function(t,r,n){return Y(this,t,r,!1,n)},o.prototype.writeDoubleLE=function(t,r,n){return O(this,t,r,!0,n)},o.prototype.writeDoubleBE=function(t,r,n){return O(this,t,r,!1,n)},o.prototype.copy=function(t,r,n,e){if(n||(n=0),e||0===e||(e=this.length),r>=t.length&&(r=t.length),r||(r=0),e>0&&n>e&&(e=n),e===n)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-r<e-n&&(e=t.length-r+n);var i,s=e-n;if(this===t&&r>n&&e>r)for(i=s-1;i>=0;i--)t[i+r]=this[i+n];else if(1e3>s||!o.TYPED_ARRAY_SUPPORT)for(i=0;s>i;i++)t[i+r]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),r);return s},o.prototype.fill=function(t,r,n){if(t||(t=0),r||(r=0),n||(n=this.length),r>n)throw new RangeError("end < start");
    if(n!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var e;if("number"==typeof t)for(e=r;n>e;e++)this[e]=t;else{var i=z(t.toString()),o=i.length;for(e=r;n>e;e++)this[e]=i[e%o]}return this}};var W=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:40,isarray:29}],29:[function(t,r,n){var e={}.toString;r.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},{}],30:[function(t,r,n){"use strict";function e(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function i(t,r){return t[0]-r[0]||t[1]-r[1]}function o(t){return t.map(e).sort(i)}function s(t,r,n){return r in t?t[r]:n}function u(t,r,n){Array.isArray(r)?(n=n||{},r=r||[]):(n=r||{},r=[]);var e=!!s(n,"delaunay",!0),i=!!s(n,"interior",!0),u=!!s(n,"exterior",!0),c=!!s(n,"infinity",!1);if(!i&&!u||0===t.length)return[];var p=h(t,r);if(e||i!==u||c){for(var v=f(t.length,o(r)),d=0;d<p.length;++d){var g=p[d];v.addTriangle(g[0],g[1],g[2])}return e&&a(t,v),u?i?c?l(v,0,c):v.cells():l(v,1,c):l(v,-1)}return p}var h=t("./lib/monotone"),f=t("./lib/triangulation"),a=t("./lib/delaunay"),l=t("./lib/filter");r.exports=u},{"./lib/delaunay":31,"./lib/filter":32,"./lib/monotone":33,"./lib/triangulation":34}],31:[function(t,r,n){"use strict";function e(t,r,n,e,i,s){var u=r.opposite(e,i);if(!(0>u)){if(e>i){var h=e;e=i,i=h,h=s,s=u,u=h}r.isConstraint(e,i)||o(t[e],t[i],t[s],t[u])<0&&n.push(e,i)}}function i(t,r){for(var n=[],i=t.length,s=r.stars,u=0;i>u;++u)for(var h=s[u],f=1;f<h.length;f+=2){var a=h[f];if(!(u>a||r.isConstraint(u,a))){for(var l=h[f-1],c=-1,p=1;p<h.length;p+=2)if(h[p-1]===a){c=h[p];break}0>c||o(t[u],t[a],t[l],t[c])<0&&n.push(u,a)}}for(;n.length>0;){for(var a=n.pop(),u=n.pop(),l=-1,c=-1,h=s[u],v=1;v<h.length;v+=2){var d=h[v-1],g=h[v];d===a?c=g:g===a&&(l=d)}0>l||0>c||o(t[u],t[a],t[l],t[c])>=0||(r.flip(u,a),e(t,r,n,l,u,c),e(t,r,n,u,c,l),e(t,r,n,c,a,l),e(t,r,n,a,l,c))}}var o=t("robust-in-sphere")[4];t("binary-search-bounds");r.exports=i},{"binary-search-bounds":19,"robust-in-sphere":46}],32:[function(t,r,n){"use strict";function e(t,r,n,e,i,o,s){this.cells=t,this.neighbor=r,this.flags=e,this.constraint=n,this.active=i,this.next=o,this.boundary=s}function i(t,r){return t[0]-r[0]||t[1]-r[1]||t[2]-r[2]}function o(t,r){for(var n=t.cells(),o=n.length,s=0;o>s;++s){var u=n[s],h=u[0],f=u[1],a=u[2];a>f?h>f&&(u[0]=f,u[1]=a,u[2]=h):h>a&&(u[0]=a,u[1]=h,u[2]=f)}n.sort(i);for(var l=new Array(o),s=0;s<l.length;++s)l[s]=0;var c=[],p=[],v=new Array(3*o),d=new Array(3*o),g=null;r&&(g=[]);for(var w=new e(n,v,d,l,c,p,g),s=0;o>s;++s)for(var u=n[s],m=0;3>m;++m){var h=u[m],f=u[(m+1)%3],y=v[3*s+m]=w.locate(f,h,t.opposite(f,h)),b=d[3*s+m]=t.isConstraint(h,f);0>y&&(b?p.push(s):(c.push(s),l[s]=1),r&&g.push([f,h,-1]))}return w}function s(t,r,n){for(var e=0,i=0;i<t.length;++i)r[i]===n&&(t[e++]=t[i]);return t.length=e,t}function u(t,r,n){var e=o(t,n);if(0===r)return n?e.cells.concat(e.boundary):e.cells;for(var i=1,u=e.active,h=e.next,f=e.flags,a=e.cells,l=e.constraint,c=e.neighbor;u.length>0||h.length>0;){for(;u.length>0;){var p=u.pop();if(f[p]!==-i){f[p]=i;for(var v=(a[p],0);3>v;++v){var d=c[3*p+v];d>=0&&0===f[d]&&(l[3*p+v]?h.push(d):(u.push(d),f[d]=i))}}}var g=h;h=u,u=g,h.length=0,i=-i}var w=s(a,f,r);return n?w.concat(e.boundary):w}var h=t("binary-search-bounds");r.exports=u;var f=e.prototype;f.locate=function(){var t=[0,0,0];return function(r,n,e){var o=r,s=n,u=e;return e>n?r>n&&(o=n,s=e,u=r):r>e&&(o=e,s=r,u=n),0>o?-1:(t[0]=o,t[1]=s,t[2]=u,h.eq(this.cells,t,i))}}()},{"binary-search-bounds":19}],33:[function(t,r,n){"use strict";function e(t,r,n,e,i){this.a=t,this.b=r,this.idx=n,this.lowerIds=e,this.upperIds=i}function i(t,r,n,e){this.a=t,this.b=r,this.type=n,this.idx=e}function o(t,r){var n=t.a[0]-r.a[0]||t.a[1]-r.a[1]||t.type-r.type;return n?n:t.type!==v&&(n=p(t.a,t.b,r.b))?n:t.idx-r.idx}function s(t,r){return p(t.a,t.b,r)}function u(t,r,n,e,i){for(var o=c.lt(r,e,s),u=c.gt(r,e,s),h=o;u>h;++h){for(var f=r[h],a=f.lowerIds,l=a.length;l>1&&p(n[a[l-2]],n[a[l-1]],e)>0;)t.push([a[l-1],a[l-2],i]),l-=1;a.length=l,a.push(i);for(var v=f.upperIds,l=v.length;l>1&&p(n[v[l-2]],n[v[l-1]],e)<0;)t.push([v[l-2],v[l-1],i]),l-=1;v.length=l,v.push(i)}}function h(t,r){var n;return(n=t.a[0]<r.a[0]?p(t.a,t.b,r.a):p(r.b,r.a,t.a))?n:(n=r.b[0]<t.b[0]?p(t.a,t.b,r.b):p(r.b,r.a,t.b),n||t.idx-r.idx)}function f(t,r,n){var i=c.le(t,n,h),o=t[i],s=o.upperIds,u=s[s.length-1];o.upperIds=[u],t.splice(i+1,0,new e(n.a,n.b,n.idx,[u],s))}function a(t,r,n){var e=n.a;n.a=n.b,n.b=e;var i=c.eq(t,n,h),o=t[i],s=t[i-1];s.upperIds=o.upperIds,t.splice(i,1)}function l(t,r){for(var n=t.length,s=r.length,h=[],l=0;n>l;++l)h.push(new i(t[l],null,v,l));for(var l=0;s>l;++l){var c=r[l],p=t[c[0]],w=t[c[1]];p[0]<w[0]?h.push(new i(p,w,g,l),new i(w,p,d,l)):p[0]>w[0]&&h.push(new i(w,p,g,l),new i(p,w,d,l))}h.sort(o);for(var m=h[0].a[0]-(1+Math.abs(h[0].a[0]))*Math.pow(2,-52),y=[new e([m,1],[m,0],-1,[],[],[],[])],b=[],l=0,A=h.length;A>l;++l){var _=h[l],x=_.type;x===v?u(b,y,t,_.a,_.idx):x===g?f(y,t,_):a(y,t,_)}return b}var c=t("binary-search-bounds"),p=t("robust-orientation")[3],v=0,d=1,g=2;r.exports=l},{"binary-search-bounds":19,"robust-orientation":47}],34:[function(t,r,n){"use strict";function e(t,r){this.stars=t,this.edges=r}function i(t,r,n){for(var e=1,i=t.length;i>e;e+=2)if(t[e-1]===r&&t[e]===n)return t[e-1]=t[i-2],t[e]=t[i-1],void(t.length=i-2)}function o(t,r){for(var n=new Array(t),i=0;t>i;++i)n[i]=[];return new e(n,r)}var s=t("binary-search-bounds");r.exports=o;var u=e.prototype;u.isConstraint=function(){function t(t,r){return t[0]-r[0]||t[1]-r[1]}var r=[0,0];return function(n,e){return r[0]=Math.min(n,e),r[1]=Math.max(n,e),s.eq(this.edges,r,t)>=0}}(),u.removeTriangle=function(t,r,n){var e=this.stars;i(e[t],r,n),i(e[r],n,t),i(e[n],t,r)},u.addTriangle=function(t,r,n){var e=this.stars;e[t].push(r,n),e[r].push(n,t),e[n].push(t,r)},u.opposite=function(t,r){for(var n=this.stars[r],e=1,i=n.length;i>e;e+=2)if(n[e]===t)return n[e-1];return-1},u.flip=function(t,r){var n=this.opposite(t,r),e=this.opposite(r,t);this.removeTriangle(t,r,n),this.removeTriangle(r,t,e),this.addTriangle(t,e,n),this.addTriangle(r,n,e)},u.edges=function(){for(var t=this.stars,r=[],n=0,e=t.length;e>n;++n)for(var i=t[n],o=0,s=i.length;s>o;o+=2)r.push([i[o],i[o+1]]);return r},u.cells=function(){for(var t=this.stars,r=[],n=0,e=t.length;e>n;++n)for(var i=t[n],o=0,s=i.length;s>o;o+=2){var u=i[o],h=i[o+1];n<Math.min(u,h)&&r.push([n,u,h])}return r}},{"binary-search-bounds":19}],35:[function(t,r,n){"use strict";function e(t){var r=b(t),n=y(m(r),t);return 0>n?[r,_(r,1/0)]:n>0?[_(r,-(1/0)),r]:[r,r]}function i(t,r){for(var n=new Array(r.length),e=0;e<r.length;++e){var i=r[e],o=t[i[0]],s=t[i[1]];n[e]=[Math.min(o[0],s[0]),Math.min(o[1],s[1]),Math.max(o[0],s[0]),Math.max(o[1],s[1])]}return n}function o(t){for(var r=new Array(t.length),n=0;n<t.length;++n){var e=t[n];r[n]=[e[0],e[1],e[0],e[1]]}return r}function s(t,r,n){var e=[];return g(n,function(n,i){var o=r[n],s=r[i];if(o[0]!==s[0]&&o[0]!==s[1]&&o[1]!==s[0]&&o[1]!==s[1]){var u=t[o[0]],h=t[o[1]],f=t[s[0]],a=t[s[1]];w(u,h,f,a)&&e.push([n,i])}}),e}function u(t,r,n,e){var i=[];return g(n,e,function(n,e){var o=r[n];if(o[0]!==e&&o[1]!==e){var s=t[e],u=t[o[0]],h=t[o[1]];w(u,h,s,s)&&i.push([n,e])}}),i}function h(t,r,n,e,i){function o(r){if(r>=t.length)return s[r-t.length];var n=t[r];return[m(n[0]),m(n[1])]}for(var s=[],u=0;u<n.length;++u){var h=n[u],f=h[0],a=h[1],l=r[f],c=r[a],p=x(A(t[l[0]]),A(t[l[1]]),A(t[c[0]]),A(t[c[1]]));if(p){var v=s.length+t.length;s.push(p),e.push([f,v],[a,v])}}e.sort(function(t,r){if(t[0]!==r[0])return t[0]-r[0];var n=o(t[1]),e=o(r[1]);return y(n[0],e[0])||y(n[1],e[1])});for(var u=e.length-1;u>=0;--u){var d=e[u],f=d[0],g=r[f],w=g[0],b=g[1],_=t[w],E=t[b];if((_[0]-E[0]||_[1]-E[1])<0){var M=w;w=b,b=M}g[0]=w;var R,I=g[1]=d[1];for(i&&(R=g[2]);u>0&&e[u-1][0]===f;){var d=e[--u],T=d[1];i?r.push([I,T,R]):r.push([I,T]),I=T}i?r.push([I,b,R]):r.push([I,b])}return s}function f(t,r,n){for(var i=t.length+r.length,o=new d(i),s=n,u=0;u<r.length;++u){var h=r[u],f=e(h[0]),a=e(h[1]);s.push([f[0],a[0],f[1],a[1]]),t.push([b(h[0]),b(h[1])])}g(s,function(t,r){o.link(t,r)});for(var l=0,c=!0,p=new Array(i),u=0;i>u;++u){var v=o.find(u);v===u?(p[u]=l,t[l++]=t[u]):(c=!1,p[u]=-1)}if(t.length=l,c)return null;for(var u=0;i>u;++u)p[u]<0&&(p[u]=p[o.find(u)]);return p}function a(t,r){return t[0]-r[0]||t[1]-r[1]}function l(t,r){var n=t[0]-r[0]||t[1]-r[1];return n?n:t[2]<r[2]?-1:t[2]>r[2]?1:0}function c(t,r,n){if(0!==t.length){if(r)for(var e=0;e<t.length;++e){var i=t[e],o=r[i[0]],s=r[i[1]];i[0]=Math.min(o,s),i[1]=Math.max(o,s)}else for(var e=0;e<t.length;++e){var i=t[e],o=i[0],s=i[1];i[0]=Math.min(o,s),i[1]=Math.max(o,s)}n?t.sort(l):t.sort(a);for(var u=1,e=1;e<t.length;++e){var h=t[e-1],f=t[e];(f[0]!==h[0]||f[1]!==h[1]||n&&f[2]!==h[2])&&(t[u++]=f)}t.length=u}}function p(t,r,n){var e=i(t,r),a=s(t,r,e),l=o(t),p=u(t,r,e,l),v=h(t,r,a,p,n),d=f(t,v,l);return c(r,d,n),d?!0:a.length>0||p.length>0}function v(t,r,n){var e,i=!1;if(n){e=r;for(var o=new Array(r.length),s=0;s<r.length;++s){var u=r[s];o[s]=[u[0],u[1],n[s]]}r=o}for(;p(t,r,!!n);)i=!0;if(n&&i){e.length=0,n.length=0;for(var s=0;s<r.length;++s){var u=r[s];e.push([u[0],u[1]]),n.push(u[2])}}return i}r.exports=v;var d=t("union-find"),g=t("box-intersect"),w=(t("compare-cell"),t("robust-segment-intersect")),m=t("big-rat"),y=t("big-rat/cmp"),b=t("big-rat/to-float"),A=t("rat-vec"),_=t("nextafter"),x=t("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":36,"big-rat":5,"big-rat/cmp":3,"big-rat/to-float":18,"box-intersect":21,"compare-cell":37,nextafter:41,"rat-vec":43,"robust-segment-intersect":49,"union-find":55}],36:[function(t,r,n){"use strict";function e(t,r){return u(o(t[0],r[1]),o(t[1],r[0]))}function i(t,r,n,i){var o=f(r,t),u=f(i,n),c=e(o,u);if(0===h(c))return null;var p=f(t,n),v=e(u,p),d=s(v,c);return a(t,l(o,d))}r.exports=i;var o=t("big-rat/mul"),s=t("big-rat/div"),u=t("big-rat/sub"),h=t("big-rat/sign"),f=t("rat-vec/sub"),a=t("rat-vec/add"),l=t("rat-vec/muls");t("big-rat/to-float")},{"big-rat/div":4,"big-rat/mul":14,"big-rat/sign":16,"big-rat/sub":17,"big-rat/to-float":18,"rat-vec/add":42,"rat-vec/muls":44,"rat-vec/sub":45}],37:[function(t,r,n){function e(t,r){return t-r}function i(t,r){var n=t.length,i=t.length-r.length;if(i)return i;switch(n){case 0:return 0;case 1:return t[0]-r[0];case 2:return t[0]+t[1]-r[0]-r[1]||o(t[0],t[1])-o(r[0],r[1]);case 3:var s=t[0]+t[1],u=r[0]+r[1];if(i=s+t[2]-(u+r[2]))return i;var h=o(t[0],t[1]),f=o(r[0],r[1]);return o(h,t[2])-o(f,r[2])||o(h+t[2],s)-o(f+r[2],u);case 4:var a=t[0],l=t[1],c=t[2],p=t[3],v=r[0],d=r[1],g=r[2],w=r[3];return a+l+c+p-(v+d+g+w)||o(a,l,c,p)-o(v,d,g,w,v)||o(a+l,a+c,a+p,l+c,l+p,c+p)-o(v+d,v+g,v+w,d+g,d+w,g+w)||o(a+l+c,a+l+p,a+c+p,l+c+p)-o(v+d+g,v+d+w,v+g+w,d+g+w);default:for(var m=t.slice().sort(e),y=r.slice().sort(e),b=0;n>b;++b)if(i=m[b]-y[b])return i;return 0}}r.exports=i;var o=Math.min},{}],38:[function(t,r,n){(function(t){function n(t,r){return p[0]=t,p[1]=r,c[0]}function e(t){return c[0]=t,p[0]}function i(t){return c[0]=t,p[1]}function o(t,r){return p[1]=t,p[0]=r,c[0]}function s(t){return c[0]=t,p[1]}function u(t){return c[0]=t,p[0]}function h(t,r){return v.writeUInt32LE(t,0,!0),v.writeUInt32LE(r,4,!0),v.readDoubleLE(0,!0)}function f(t){return v.writeDoubleLE(t,0,!0),v.readUInt32LE(0,!0)}function a(t){return v.writeDoubleLE(t,0,!0),v.readUInt32LE(4,!0)}var l=!1;if("undefined"!=typeof Float64Array){var c=new Float64Array(1),p=new Uint32Array(c.buffer);c[0]=1,l=!0,1072693248===p[1]?(r.exports=function(t){return c[0]=t,[p[0],p[1]]},r.exports.pack=n,r.exports.lo=e,r.exports.hi=i):1072693248===p[0]?(r.exports=function(t){return c[0]=t,[p[1],p[0]]},r.exports.pack=o,r.exports.lo=s,r.exports.hi=u):l=!1}if(!l){var v=new t(8);r.exports=function(t){return v.writeDoubleLE(t,0,!0),[v.readUInt32LE(0,!0),v.readUInt32LE(4,!0)]},r.exports.pack=h,r.exports.lo=f,r.exports.hi=a}r.exports.sign=function(t){return r.exports.hi(t)>>>31},r.exports.exponent=function(t){var n=r.exports.hi(t);return(n<<1>>>21)-1023},r.exports.fraction=function(t){var n=r.exports.lo(t),e=r.exports.hi(t),i=1048575&e;return 2146435072&e&&(i+=1<<20),[n,i]},r.exports.denormalized=function(t){var n=r.exports.hi(t);return!(2146435072&n)}}).call(this,t("buffer").Buffer)},{buffer:28}],39:[function(t,r,n){"use strict";function e(t,r,n){var i=0|t[n];if(0>=i)return[];var o,s=new Array(i);if(n===t.length-1)for(o=0;i>o;++o)s[o]=r;else for(o=0;i>o;++o)s[o]=e(t,r,n+1);return s}function i(t,r){var n,e;for(n=new Array(t),e=0;t>e;++e)n[e]=r;return n}function o(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return i(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}r.exports=o},{}],40:[function(t,r,n){n.read=function(t,r,n,e,i){var o,s,u=8*i-e-1,h=(1<<u)-1,f=h>>1,a=-7,l=n?i-1:0,c=n?-1:1,p=t[r+l];for(l+=c,o=p&(1<<-a)-1,p>>=-a,a+=u;a>0;o=256*o+t[r+l],l+=c,a-=8);for(s=o&(1<<-a)-1,o>>=-a,a+=e;a>0;s=256*s+t[r+l],l+=c,a-=8);if(0===o)o=1-f;else{if(o===h)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,e),o-=f}return(p?-1:1)*s*Math.pow(2,o-e)},n.write=function(t,r,n,e,i,o){var s,u,h,f=8*o-i-1,a=(1<<f)-1,l=a>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=e?0:o-1,v=e?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,s=a):(s=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-s))<1&&(s--,h*=2),r+=s+l>=1?c/h:c*Math.pow(2,1-l),r*h>=2&&(s++,h/=2),s+l>=a?(u=0,s=a):s+l>=1?(u=(r*h-1)*Math.pow(2,i),s+=l):(u=r*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&u,p+=v,u/=256,i-=8);for(s=s<<i|u,f+=i;f>0;t[n+p]=255&s,p+=v,s/=256,f-=8);t[n+p-v]|=128*d}},{}],41:[function(t,r,n){"use strict";function e(t,r){if(isNaN(t)||isNaN(r))return NaN;if(t===r)return t;if(0===t)return 0>r?-o:o;var n=i.hi(t),e=i.lo(t);return r>t==t>0?e===s?(n+=1,e=0):e+=1:0===e?(e=s,n-=1):e-=1,i.pack(e,n)}var i=t("double-bits"),o=Math.pow(2,-1074),s=-1>>>0;r.exports=e},{"double-bits":38}],42:[function(t,r,n){"use strict";function e(t,r){for(var n=t.length,e=new Array(n),o=0;n>o;++o)e[o]=i(t[o],r[o]);return e}var i=t("big-rat/add");r.exports=e},{"big-rat/add":2}],43:[function(t,r,n){"use strict";function e(t){for(var r=new Array(t.length),n=0;n<t.length;++n)r[n]=i(t[n]);return r}r.exports=e;var i=t("big-rat")},{"big-rat":5}],44:[function(t,r,n){"use strict";function e(t,r){for(var n=i(r),e=t.length,s=new Array(e),u=0;e>u;++u)s[u]=o(t[u],n);return s}var i=t("big-rat"),o=t("big-rat/mul");r.exports=e},{"big-rat":5,"big-rat/mul":14}],45:[function(t,r,n){"use strict";function e(t,r){for(var n=t.length,e=new Array(n),o=0;n>o;++o)e[o]=i(t[o],r[o]);return e}var i=t("big-rat/sub");r.exports=e},{"big-rat/sub":17}],46:[function(t,r,n){"use strict";function e(t,r){for(var n=new Array(t.length-1),e=1;e<t.length;++e)for(var i=n[e-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==r&&(i[s++]=t[e][o]);return n}function i(t){for(var r=new Array(t),n=0;t>n;++n){r[n]=new Array(t);for(var e=0;t>e;++e)r[n][e]=["m",e,"[",t-n-2,"]"].join("")}return r}function o(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var r=t.length>>1;return["sum(",o(t.slice(0,r)),",",o(t.slice(r)),")"].join("")}function s(t,r){if("m"===t.charAt(0)){if("w"===r.charAt(0)){var n=t.split("[");return["w",r.substr(1),"m",n[0].substr(1)].join("")}return["prod(",t,",",r,")"].join("")}return s(r,t)}function u(t){return t&!0?"-":""}function h(t){if(2===t.length)return[["diff(",s(t[0][0],t[1][1]),",",s(t[1][0],t[0][1]),")"].join("")];for(var r=[],n=0;n<t.length;++n)r.push(["scale(",o(h(e(t,n))),",",u(n),t[0][n],")"].join(""));return r}function f(t,r){for(var n=[],e=0;r-2>e;++e)n.push(["prod(m",t,"[",e,"],m",t,"[",e,"])"].join(""));return o(n)}function a(t){for(var r=[],n=[],s=i(t),u=0;t>u;++u)s[0][u]="1",s[t-1][u]="w"+u;for(var u=0;t>u;++u)0===(1&u)?r.push.apply(r,h(e(s,u))):n.push.apply(n,h(e(s,u)));for(var a=o(r),l=o(n),c="exactInSphere"+t,p=[],u=0;t>u;++u)p.push("m"+u);for(var v=["function ",c,"(",p.join(),"){"],u=0;t>u;++u){v.push("var w",u,"=",f(u,t),";");for(var d=0;t>d;++d)d!==u&&v.push("var w",u,"m",d,"=scale(w",u,",m",d,"[0]);")}v.push("var p=",a,",n=",l,",d=diff(p,n);return d[d.length-1];}return ",c);var b=new Function("sum","diff","prod","scale",v.join(""));return b(w,m,g,y)}function l(){return 0}function c(){return 0}function p(){return 0}function v(t){var r=A[t.length];return r||(r=A[t.length]=a(t.length)),r.apply(void 0,t)}function d(){for(;A.length<=b;)A.push(a(A.length));for(var t=[],n=["slow"],e=0;b>=e;++e)t.push("a"+e),n.push("o"+e);for(var i=["function testInSphere(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],e=2;b>=e;++e)i.push("case ",e,":return o",e,"(",t.slice(0,e).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);r.exports=o.apply(void 0,[v].concat(A));for(var e=0;b>=e;++e)r.exports[e]=A[e]}var g=t("two-product"),w=t("robust-sum"),m=t("robust-subtract"),y=t("robust-scale"),b=6,A=[l,c,p];d()},{"robust-scale":48,"robust-subtract":50,"robust-sum":51,"two-product":52}],47:[function(t,r,n){"use strict";function e(t,r){for(var n=new Array(t.length-1),e=1;e<t.length;++e)for(var i=n[e-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==r&&(i[s++]=t[e][o]);return n}function i(t){for(var r=new Array(t),n=0;t>n;++n){r[n]=new Array(t);for(var e=0;t>e;++e)r[n][e]=["m",e,"[",t-n-1,"]"].join("")}return r}function o(t){return 1&t?"-":""}function s(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var r=t.length>>1;return["sum(",s(t.slice(0,r)),",",s(t.slice(r)),")"].join("")}function u(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var r=[],n=0;n<t.length;++n)r.push(["scale(",s(u(e(t,n))),",",o(n),t[0][n],")"].join(""));return r}function h(t){for(var r=[],n=[],o=i(t),h=[],f=0;t>f;++f)0===(1&f)?r.push.apply(r,u(e(o,f))):n.push.apply(n,u(e(o,f))),h.push("m"+f);var a=s(r),d=s(n),g="orientation"+t+"Exact",w=["function ",g,"(",h.join(),"){var p=",a,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join(""),m=new Function("sum","prod","scale","sub",w);return m(c,l,p,v)}function f(t){var r=A[t.length];return r||(r=A[t.length]=h(t.length)),r.apply(void 0,t)}function a(){for(;A.length<=d;)A.push(h(A.length));for(var t=[],n=["slow"],e=0;d>=e;++e)t.push("a"+e),n.push("o"+e);for(var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],e=2;d>=e;++e)i.push("case ",e,":return o",e,"(",t.slice(0,e).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);r.exports=o.apply(void 0,[f].concat(A));for(var e=0;d>=e;++e)r.exports[e]=A[e]}var l=t("two-product"),c=t("robust-sum"),p=t("robust-scale"),v=t("robust-subtract"),d=5,g=1.1102230246251565e-16,w=(3+16*g)*g,m=(7+56*g)*g,y=h(3),b=h(4),A=[function(){return 0},function(){return 0},function(t,r){return r[0]-t[0]},function(t,r,n){var e,i=(t[1]-n[1])*(r[0]-n[0]),o=(t[0]-n[0])*(r[1]-n[1]),s=i-o;if(i>0){if(0>=o)return s;e=i+o}else{if(!(0>i))return s;if(o>=0)return s;e=-(i+o)}var u=w*e;return s>=u||-u>=s?s:y(t,r,n)},function(t,r,n,e){var i=t[0]-e[0],o=r[0]-e[0],s=n[0]-e[0],u=t[1]-e[1],h=r[1]-e[1],f=n[1]-e[1],a=t[2]-e[2],l=r[2]-e[2],c=n[2]-e[2],p=o*f,v=s*h,d=s*u,g=i*f,w=i*h,y=o*u,A=a*(p-v)+l*(d-g)+c*(w-y),_=(Math.abs(p)+Math.abs(v))*Math.abs(a)+(Math.abs(d)+Math.abs(g))*Math.abs(l)+(Math.abs(w)+Math.abs(y))*Math.abs(c),x=m*_;return A>x||-A>x?A:b(t,r,n,e)}];a()},{"robust-scale":48,"robust-subtract":50,"robust-sum":51,"two-product":52}],48:[function(t,r,n){"use strict";function e(t,r){var n=t.length;if(1===n){var e=i(t[0],r);return e[0]?e:[e[1]]}var s=new Array(2*n),u=[.1,.1],h=[.1,.1],f=0;i(t[0],r,u),u[0]&&(s[f++]=u[0]);for(var a=1;n>a;++a){i(t[a],r,h);var l=u[1];o(l,h[0],u),u[0]&&(s[f++]=u[0]);var c=h[1],p=u[1],v=c+p,d=v-c,g=p-d;u[1]=v,g&&(s[f++]=g)}return u[1]&&(s[f++]=u[1]),0===f&&(s[f++]=0),s.length=f,s}var i=t("two-product"),o=t("two-sum");r.exports=e},{"two-product":52,"two-sum":53}],49:[function(t,r,n){"use strict";function e(t,r,n,e){for(var i=0;2>i;++i){var o=t[i],s=r[i],u=Math.min(o,s),h=Math.max(o,s),f=n[i],a=e[i],l=Math.min(f,a),c=Math.max(f,a);if(u>c||l>h)return!1}return!0}function i(t,r,n,i){var s=o(t,n,i),u=o(r,n,i);if(s>0&&u>0||0>s&&0>u)return!1;var h=o(n,t,r),f=o(i,t,r);return h>0&&f>0||0>h&&0>f?!1:0===s&&0===u&&0===h&&0===f?e(t,r,n,i):!0}r.exports=i;var o=t("robust-orientation")[3]},{"robust-orientation":47}],50:[function(t,r,n){"use strict";function e(t,r){var n=t+r,e=n-t,i=n-e,o=r-e,s=t-i,u=s+o;return u?[u,n]:[n]}function i(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],-r[0]);var o,s,u=n+i,h=new Array(u),f=0,a=0,l=0,c=Math.abs,p=t[a],v=c(p),d=-r[l],g=c(d);g>v?(s=p,a+=1,n>a&&(p=t[a],v=c(p))):(s=d,l+=1,i>l&&(d=-r[l],g=c(d))),n>a&&g>v||l>=i?(o=p,a+=1,n>a&&(p=t[a],v=c(p))):(o=d,l+=1,i>l&&(d=-r[l],g=c(d)));for(var w,m,y,b,A,_=o+s,x=_-o,E=s-x,M=E,R=_;n>a&&i>l;)g>v?(o=p,a+=1,n>a&&(p=t[a],v=c(p))):(o=d,l+=1,i>l&&(d=-r[l],g=c(d))),s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w;for(;n>a;)o=p,s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w,a+=1,n>a&&(p=t[a]);for(;i>l;)o=d,s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w,l+=1,i>l&&(d=-r[l]);return M&&(h[f++]=M),R&&(h[f++]=R),f||(h[f++]=0),h.length=f,h}r.exports=i},{}],51:[function(t,r,n){"use strict";function e(t,r){var n=t+r,e=n-t,i=n-e,o=r-e,s=t-i,u=s+o;return u?[u,n]:[n]}function i(t,r){var n=0|t.length,i=0|r.length;if(1===n&&1===i)return e(t[0],r[0]);var o,s,u=n+i,h=new Array(u),f=0,a=0,l=0,c=Math.abs,p=t[a],v=c(p),d=r[l],g=c(d);g>v?(s=p,a+=1,n>a&&(p=t[a],v=c(p))):(s=d,l+=1,i>l&&(d=r[l],g=c(d))),n>a&&g>v||l>=i?(o=p,a+=1,n>a&&(p=t[a],v=c(p))):(o=d,l+=1,i>l&&(d=r[l],g=c(d)));for(var w,m,y,b,A,_=o+s,x=_-o,E=s-x,M=E,R=_;n>a&&i>l;)g>v?(o=p,a+=1,n>a&&(p=t[a],v=c(p))):(o=d,l+=1,i>l&&(d=r[l],g=c(d))),s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w;for(;n>a;)o=p,s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w,a+=1,n>a&&(p=t[a]);for(;i>l;)o=d,s=M,_=o+s,x=_-o,E=s-x,E&&(h[f++]=E),w=R+_,m=w-R,y=w-m,b=_-m,A=R-y,M=A+b,R=w,l+=1,i>l&&(d=r[l]);return M&&(h[f++]=M),R&&(h[f++]=R),f||(h[f++]=0),h.length=f,h}r.exports=i},{}],52:[function(t,r,n){"use strict";function e(t,r,n){var e=t*r,o=i*t,s=o-t,u=o-s,h=t-u,f=i*r,a=f-r,l=f-a,c=r-l,p=e-u*l,v=p-h*l,d=v-u*c,g=h*c-d;return n?(n[0]=g,n[1]=e,n):[g,e]}r.exports=e;var i=+(Math.pow(2,27)+1)},{}],53:[function(t,r,n){"use strict";function e(t,r,n){var e=t+r,i=e-t,o=e-i,s=r-i,u=t-o;return n?(n[0]=u+s,n[1]=e,n):[u+s,e]}r.exports=e},{}],54:[function(t,r,n){(function(r,e){"use strict";function i(t){if(t){var r=t.length||t.byteLength,n=m.log2(r);_[n].push(t)}}function o(t){i(t.buffer)}function s(t){var t=m.nextPow2(t),r=m.log2(t),n=_[r];return n.length>0?n.pop():new ArrayBuffer(t)}function u(t){return new Uint8Array(s(t),0,t)}function h(t){return new Uint16Array(s(2*t),0,t)}function f(t){return new Uint32Array(s(4*t),0,t)}function a(t){return new Int8Array(s(t),0,t)}function l(t){return new Int16Array(s(2*t),0,t)}function c(t){return new Int32Array(s(4*t),0,t)}function p(t){return new Float32Array(s(4*t),0,t)}function v(t){return new Float64Array(s(8*t),0,t)}function d(t){return b?new Uint8ClampedArray(s(t),0,t):u(t)}function g(t){return new DataView(s(t),0,t)}function w(t){t=m.nextPow2(t);var r=m.log2(t),n=x[r];return n.length>0?n.pop():new e(t)}var m=t("bit-twiddle"),y=t("dup");r.__TYPEDARRAY_POOL||(r.__TYPEDARRAY_POOL={UINT8:y([32,0]),UINT16:y([32,0]),UINT32:y([32,0]),INT8:y([32,0]),INT16:y([32,0]),INT32:y([32,0]),FLOAT:y([32,0]),DOUBLE:y([32,0]),DATA:y([32,0]),UINT8C:y([32,0]),BUFFER:y([32,0])});var b="undefined"!=typeof Uint8ClampedArray,A=r.__TYPEDARRAY_POOL;A.UINT8C||(A.UINT8C=y([32,0])),A.BUFFER||(A.BUFFER=y([32,0]));var _=A.DATA,x=A.BUFFER;n.free=function(t){if(e.isBuffer(t))x[m.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,n=0|m.log2(r);_[n].push(t)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=o,n.freeArrayBuffer=i,n.freeBuffer=function(t){x[m.log2(t.length)].push(t)},n.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return s(t);switch(r){case"uint8":return u(t);case"uint16":return h(t);case"uint32":return f(t);case"int8":return a(t);case"int16":return l(t);case"int32":return c(t);case"float":case"float32":return p(t);case"double":case"float64":return v(t);case"uint8_clamped":return d(t);case"buffer":return w(t);case"data":case"dataview":return g(t);default:return null}return null},n.mallocArrayBuffer=s,n.mallocUint8=u,n.mallocUint16=h,n.mallocUint32=f,n.mallocInt8=a,n.mallocInt16=l,n.mallocInt32=c,n.mallocFloat32=n.mallocFloat=p,n.mallocFloat64=n.mallocDouble=v,n.mallocUint8Clamped=d,n.mallocDataView=g,n.mallocBuffer=w,n.clearCache=function(){for(var t=0;32>t;++t)A.UINT8[t].length=0,A.UINT16[t].length=0,A.UINT32[t].length=0,A.INT8[t].length=0,A.INT16[t].length=0,A.INT32[t].length=0,A.FLOAT[t].length=0,A.DOUBLE[t].length=0,A.UINT8C[t].length=0,_[t].length=0,x[t].length=0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"bit-twiddle":20,buffer:28,dup:39}],55:[function(t,r,n){"use strict";"use restrict";function e(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;t>r;++r)this.roots[r]=r,this.ranks[r]=0}r.exports=e;var i=e.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var r=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[r]!==t;){var e=n[r];n[r]=t,r=e}return t},i.link=function(t,r){var n=this.find(t),e=this.find(r);if(n!==e){var i=this.ranks,o=this.roots,s=i[n],u=i[e];u>s?o[n]=e:s>u?o[e]=n:(o[e]=n,++i[n])}}},{}],56:[function(t,r,n){window.cleanPSLG=t("clean-pslg"),window.cdt2d=t("cdt2d")},{cdt2d:30,"clean-pslg":35}]},{},[56]);